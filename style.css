* { box-sizing: border-box; touch-action: none; user-select: none; }
body { margin: 0; background: #000; color: white; font-family: sans-serif; overflow: hidden; position: fixed; width: 100%; height: 100%; }
#overlay { position: fixed; inset: 0; background: #000; z-index: 100; display: flex; align-items: center; justify-content: center; flex-direction: column; }
#nick-input { padding: 15px; font-size: 20px; border-radius: 8px; border: none; margin-bottom: 20px; text-align: center; pointer-events: auto; }
#start-btn { padding: 15px 50px; font-size: 20px; background: #0f7; border: none; cursor: pointer; border-radius: 8px; font-weight: bold; pointer-events: auto; }

#ui-left { position: absolute; top: 10px; left: 10px; z-index: 10; width: 180px; pointer-events: none; }
#hp-bar { width: 100%; height: 22px; background: #200; border: 2px solid #500; position: relative; border-radius: 4px; overflow: hidden; }
#hp-fill { height: 100%; background: #d00; width: 100%; transition: width 0.1s; }
#hp-text { position: absolute; width: 100%; text-align: center; line-height: 18px; font-size: 12px; font-weight: bold; }
#stats { margin-top: 5px; background: rgba(0,0,0,0.6); padding: 8px; border-radius: 4px; font-size: 11px; display: grid; grid-template-columns: 1fr 1fr; gap: 4px; }

#chat-container { position: absolute; bottom: 80px; left: 10px; width: 250px; z-index: 25; pointer-events: none; display: none; }
#chat-messages { height: 120px; overflow-y: auto; background: rgba(0,0,0,0.5); border-radius: 4px; margin-bottom: 5px; font-size: 12px; padding: 5px; pointer-events: auto; }
#chat-input { width: 100%; padding: 8px; background: rgba(40,40,40,0.9); border: 1px solid #555; color: white; border-radius: 4px; pointer-events: auto; outline: none; }
#toggle-chat { position: absolute; bottom: 80px; left: 10px; z-index: 30; padding: 5px; font-size: 10px; background: #555; color: white; border: none; border-radius: 4px; cursor: pointer; pointer-events: auto; }
.msg { margin-bottom: 4px; word-wrap: break-word; }
.msg b { color: #0f7; }

#inventory-container { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; z-index: 40; gap: 5px; }
#inventory { display: flex; gap: 4px; }
.slot { width: 45px; height: 45px; background: rgba(30,30,30,0.9); border: 2px solid #444; border-radius: 6px; font-size: 8px; display: flex; align-items: center; justify-content: center; text-align: center; cursor: pointer; pointer-events: auto; position: relative; overflow: hidden; }
.cd-overlay { position: absolute; bottom: 0; left: 0; width: 100%; background: rgba(0,0,0,0.7); height: 0%; transition: height 0.1s; }
.key-hint { position: absolute; top: 1px; left: 3px; color: #fff; font-size: 8px; opacity: 0.5; }

#sell-mode-btn { padding: 5px 15px; background: #444; color: #ccc; border: 1px solid #666; border-radius: 4px; font-size: 10px; cursor: pointer; pointer-events: auto; }
#sell-mode-btn.active { background: #d00; color: white; border-color: #f00; }

#shop-btn { position: absolute; top: 10px; right: 10px; z-index: 50; padding: 10px; background: #fb0; border: none; border-radius: 4px; font-weight: bold; pointer-events: auto; }
#shop { position: absolute; right: 10px; top: 55px; z-index: 50; width: 130px; background: rgba(0,0,0,0.9); padding: 8px; border-radius: 6px; display: none; max-height: 70vh; overflow-y: auto; border: 1px solid #333; pointer-events: auto; }

.shop-item { width: 100%; margin-bottom: 5px; padding: 8px; background: #222; border: 1px solid #444; color: #888; border-radius: 4px; font-size: 10px; cursor: pointer; transition: 0.2s; }
.shop-item.affordable { border-color: #0f7; color: #fff; box-shadow: inset 0 0 5px rgba(0,255,119,0.2); }

#top-center { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); text-align: center; pointer-events: none; }
canvas { display: block; }